<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Register</title>
  <link rel="stylesheet" href="register.css" />
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
  <div class="container">
    <div class="register-box">
      <h2>Create Account</h2>
      <form>
        <div class="input-group">
          <input id="firstName" type="text" required />
          <label>First Name</label>
        </div>
        <div class="input-group">
          <input id="middleName" type="text" required />
          <label>Middle Name</label>
        </div>
        <div class="input-group">
          <input id="lastName" type="text" required />
          <label>Last Name</label>
        </div>
        <div class="row-group">
          <div class="input-group half">
            <input id="age" type="number" min="1" max="120" required />
            <label>Age</label>
          </div>
          <div class="input-group half">
            <input id="birthday" type="text" required autocomplete="off" />
            <label>Birthday</label>
          </div>
        </div>
        <div class="input-group">
          <input id="email" type="text" required />
          <label>Email Address</label>
        </div>
        <div class="input-group password-group">
          <input id="password" type="password" required />
          <label>Password</label>
          <i class="fas fa-eye toggle-password" onclick="togglePassword('password', this)"></i>
        </div>
        <div class="input-group password-group">
          <input id="confirmPassword" type="password" required />
          <label>Confirm Password</label>
          <i class="fas fa-eye toggle-password" onclick="togglePassword('confirmPassword', this)"></i>
        </div>
        <div class="input-group">
          <input
            id="phone"
            type="tel"
            pattern="^09[0-9]{9}$"
            maxlength="11"
            inputmode="numeric"
            required
          />
          <label>Phone Number (e.g., 09123456789)</label>
        </div>
        <div class="input-group">
          <input id="address" type="text" required />
          <label>Address</label>
        </div>
        <button type="submit">Register</button>
        <p class="login-link">Already have an account? <a href="login.html">Login here</a></p>
      </form>
    </div>
  </div>

  <script>
    function togglePassword(id, icon) {
      const input = document.getElementById(id);
      if (input.type === "password") {
        input.type = "text";
        icon.classList.remove("fa-eye");
        icon.classList.add("fa-eye-slash");
      } else {
        input.type = "password";
        icon.classList.remove("fa-eye-slash");
        icon.classList.add("fa-eye");
      }
    }

    // Birthday input dynamic behavior
    const birthdayInput = document.getElementById("birthday");

    birthdayInput.addEventListener("focus", () => {
      birthdayInput.type = "date";
    });

    document.addEventListener("click", (e) => {
      if (e.target !== birthdayInput && !birthdayInput.value) {
        birthdayInput.type = "text";
      }
    });

    // Phone number real-time enforcement (limit length and pattern)
    const phoneInput = document.getElementById("phone");

    phoneInput.addEventListener("input", () => {
      phoneInput.value = phoneInput.value.replace(/[^0-9]/g, "").slice(0, 11);
    });
  </script>
  
  <script src="firebase-config.js"></script>
  <script type="module" src="register.js"></script>
</body>
</html>
